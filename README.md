# coki-jpush-expo

ä¸ºExpoåº”ç”¨é›†æˆæå…‰æ¨é€(JPush)çš„é…ç½®æ’ä»¶

## ğŸ“‹ ç®€ä»‹

ç”±äºæå…‰æ¨é€å®˜æ–¹ä¸ç›´æ¥æ”¯æŒExpoé…ç½®æ’ä»¶æ¨¡å¼ï¼Œæœ¬æ’ä»¶é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°é›†æˆï¼š

```
Expoé…ç½®æ’ä»¶ -> prebuildè½¬ä¸ºåŸç”Ÿå·¥ä½œæµ -> è‡ªåŠ¨æ³¨å…¥JPushç›¸å…³ä»£ç 
```

## ğŸš€ å®‰è£…

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…æœ¬æ’ä»¶

```bash
npm install coki-jpush-expo
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…JPushç›¸å…³ä¾èµ–

```bash
npm install jpush-react-native jcore-react-native
```

## ğŸ”§ é…ç½®

åœ¨`app.json`æˆ–`app.config.js`ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```js
{
  "expo": {
    // å…¶ä»–é…ç½®...
    "plugins": [
      [
        "coki-jpush-expo",
        {
          "appKey": "ä½ çš„æå…‰æ¨é€AppKey", // å¿…å¡«ï¼Œä»æå…‰æ¨é€æ§åˆ¶å°è·å–
          "channel": "ä½ çš„åº”ç”¨æ¸ é“"      // å¿…å¡«ï¼Œå¦‚ï¼šproductionã€devç­‰
        }
      ]
      // å…¶ä»–æ’ä»¶...
    ]
  }
}
```

## ğŸ”„ ç”ŸæˆåŸç”Ÿé¡¹ç›®

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”ŸæˆåŸç”Ÿé¡¹ç›®ï¼š

```bash
npx expo prebuild
```

è¿™å°†ç”ŸæˆåŒ…å«æ‰€æœ‰JPushé…ç½®çš„`android`å’Œ`ios`ç›®å½•ã€‚

## âœ… éªŒè¯é›†æˆ

### iOS

1. ä½¿ç”¨XCodeæ‰“å¼€`ios`ç›®å½•
2. ç¡®è®¤é¡¹ç›®ä¸­å·²æ·»åŠ JPushç›¸å…³é…ç½®
3. è¿è¡Œé¡¹ç›®å¹¶éªŒè¯æ¨é€åŠŸèƒ½

### Android

1. ä½¿ç”¨Android Studioæ‰“å¼€`android`ç›®å½•
2. ç¡®è®¤é¡¹ç›®ä¸­å·²æ·»åŠ JPushç›¸å…³é…ç½®
3. è¿è¡Œé¡¹ç›®å¹¶éªŒè¯æ¨é€åŠŸèƒ½

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [JPush é›†æˆ Expoè¯¦ç»†æ•™ç¨‹](https://juejin.cn/post/7423235127716659239)
- [æå…‰æ¨é€å®˜æ–¹æ–‡æ¡£](https://docs.jiguang.cn/jpush/client/client_plugins)
